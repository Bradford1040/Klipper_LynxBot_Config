[gcode_macro SET_DEFAULT_MESH]
gcode:
  {% set DEFAULT_MESH = params.DEFAULT_MESH|default('default')|string %}
  SAVE_VARIABLE VARIABLE=default_mesh VALUE="'{DEFAULT_MESH}'"
  GET_DEFAULT_MESH

[gcode_macro SET_DEFAULT_MESH_TEXTURED_BLACK]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='TEXTURED_BLACK'

[gcode_macro SET_DEFAULT_MESH_SMOOTH_BLACK]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='SMOOTH_BLACK'

[gcode_macro SET_DEFAULT_MESH_TEXTURED_ALCHEMY]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='TEXTURED_ALCHEMY'

[gcode_macro SET_DEFAULT_MESH_SMOOTH_ALCHEMY]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='SMOOTH_ALCHEMY'

[gcode_macro SET_DEFAULT_MESH_TEXTURED_SCRATCHED]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='TEXTURED_SCRATCHED'

[gcode_macro SET_DEFAULT_MESH_CARBON_SCRATCHED]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='CARBON_SCRATCHED'
  
[gcode_macro SET_DEFAULT_MESH_TEXTURED_GOLD]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='TEXTURED_GOLD'

[gcode_macro SET_DEFAULT_MESH_CARBON_GOLD]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='CARBON_GOLD'

[gcode_macro SET_DEFAULT_MESH_NEUTRAL]
gcode:
  SET_DEFAULT_MESH DEFAULT_MESH='NEUTRAL'

[gcode_macro GET_DEFAULT_MESH]
gcode:
  {% if printer.save_variables.variables.default_mesh is defined %}
    {% set DEFAULT_MESH = printer.save_variables.variables.default_mesh|string %}
  {% else %}
    {% set DEFAULT_MESH = "default" %}
  {% endif %}
  RESPOND MSG="<span class=warning--text>Default bed mesh: </span> <span class=error--text>{DEFAULT_MESH}</span>"
